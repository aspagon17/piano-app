div.ReactPiano__Keyboard {
  --key-color: #fff;
  @apply relative select-none;
  filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.3));
}

.ReactPiano__Key--accidental {
  --key-color: #1a1a1a;
}

div.ReactPiano__Keyboard .ReactPiano__Key {
  -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
  -webkit-tap-highlight-color: transparent;
  @apply border-0 will-change-transform transition-all origin-top ease-out duration-75;
  cursor: pointer;
}

div.ReactPiano__Keyboard .ReactPiano__Key--natural {
  background: linear-gradient(to bottom, #fefefe 0%, #f8f8f8 10%, #e8e8e8 100%);
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.8),
    inset 0 -1px 0 rgba(0, 0, 0, 0.1),
    0 0 0 1px rgba(0, 0, 0, 0.1),
    0 2px 4px rgba(0, 0, 0, 0.1),
    0 4px 8px rgba(0, 0, 0, 0.15);
  @apply rounded-b-md;
}

div.ReactPiano__Keyboard .ReactPiano__Key--natural:hover:not(.ReactPiano__Key--active) {
  background: linear-gradient(to bottom, #ffffff 0%, #fafafa 10%, #eeeeee 100%);
  transform: translateY(-1px);
  box-shadow: 
    inset 0 1px 0 rgba(255, 255, 255, 0.9),
    inset 0 -1px 0 rgba(0, 0, 0, 0.1),
    0 0 0 1px rgba(0, 0, 0, 0.1),
    0 3px 6px rgba(0, 0, 0, 0.15),
    0 6px 12px rgba(0, 0, 0, 0.2);
}

div.ReactPiano__Keyboard .ReactPiano__Key--accidental {
  background: linear-gradient(to bottom, #333333 0%, #1a1a1a 10%, #000000 100%);
  box-shadow: 
    inset 0 -1px 2px rgba(255, 255, 255, 0.1),
    0 2px 4px rgba(0, 0, 0, 0.5),
    0 4px 8px rgba(0, 0, 0, 0.3);
  @apply duration-75 rounded-b-sm;
}

div.ReactPiano__Keyboard .ReactPiano__Key--accidental:hover:not(.ReactPiano__Key--active) {
  background: linear-gradient(to bottom, #404040 0%, #222222 10%, #0a0a0a 100%);
  transform: translateY(-1px);
  box-shadow: 
    inset 0 -1px 2px rgba(255, 255, 255, 0.15),
    0 3px 6px rgba(0, 0, 0, 0.5),
    0 6px 12px rgba(0, 0, 0, 0.4);
}

/*noinspection ALL*/
div.ReactPiano__Keyboard .ReactPiano__Key--active {
  @apply overflow-hidden;
}

div.ReactPiano__Keyboard .ReactPiano__Key--active.ReactPiano__Key--natural {
  background: linear-gradient(to bottom, 
    var(--key-color) 0%, 
    color-mix(in srgb, var(--key-color) 90%, black) 100%);
  @apply scale-y-[98%] h-full;
  transform-origin: top;
  box-shadow: 
    inset 0 1px 4px rgba(0, 0, 0, 0.3),
    inset 0 -1px 0 rgba(0, 0, 0, 0.2),
    0 0 0 1px rgba(0, 0, 0, 0.2),
    0 1px 2px rgba(0, 0, 0, 0.2);
}

div.ReactPiano__Keyboard .ReactPiano__Key--active.ReactPiano__Key--accidental {
  background: linear-gradient(to bottom,
    var(--key-color) 0%,
    color-mix(in srgb, var(--key-color) 80%, black) 100%);
  @apply h-[65%] scale-y-[98%];
  transform-origin: top;
  box-shadow: 
    inset 0 1px 4px rgba(0, 0, 0, 0.5),
    0 1px 2px rgba(0, 0, 0, 0.3);
}

div.ReactPiano__Keyboard .ReactPiano__Key--active::before {
  content: '';
  @apply absolute inset-0 pointer-events-none;
  background: radial-gradient(ellipse at center, 
    rgba(255, 255, 255, 0.3) 0%, 
    transparent 70%);
  opacity: 0.6;
  animation: keyPressGlow 0.3s ease-out;
}

@keyframes keyPressGlow {
  0% {
    transform: scale(0.8);
    opacity: 0;
  }
  50% {
    opacity: 0.8;
  }
  100% {
    transform: scale(1.2);
    opacity: 0;
  }
}

div.ReactPiano__Keyboard .ReactPiano__NoteLabelContainer {
  @apply mb-3 flex items-end justify-center h-full pb-4;
}

div.ReactPiano__Keyboard .ReactPiano__NoteLabel {
  @apply text-xs font-medium;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

div.ReactPiano__Keyboard .ReactPiano__NoteLabel--natural {
  @apply text-gray-600;
}

div.ReactPiano__Keyboard .ReactPiano__NoteLabel--accidental {
  @apply text-gray-300;
}
